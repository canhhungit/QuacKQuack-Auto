(function(){"use strict";var e={};!function(){e.d=function(t,r){for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})}}(),function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();chrome.runtime.onMessage.addListener((function(e,t,r){switch(e.message){case"get_uuid":{const e=t=>{const r=t.requestHeaders,o=r.find((e=>"Authorization"===e.name));o&&(chrome.tabs.query({active:!0,currentWindow:!0},(e=>{chrome.tabs.sendMessage(e[0].id,{type:"token",token:o.value},(e=>{}))})),chrome.webRequest.onBeforeSendHeaders.removeListener(e))};return chrome.webRequest.onBeforeSendHeaders.addListener(e,{urls:["https://api.quackquack.games/*"]},["requestHeaders"]),!0}case"get_cookies":return chrome.cookies.getAll({url:e.url},(function(e){r({cookies:e})})),!0;case"set_cookies":return chrome.cookies.set({url:e.url,name:e.name,value:e.value,secure:!0,path:"/",httpOnly:!1},(function(e){})),!0;case"saveSettings":{const{getAllEgg:t,getCommonEgg:o}=e.data,n="web.telegram.org";return chrome.tabs.query({url:`*://${n}/*`},(e=>{e&&e.length>0?e.forEach((e=>{chrome.tabs.sendMessage(e.id,{type:"updateSettings",data:{getAllEgg:t,getCommonEgg:o}})})):console.error("No matching tab found for URL pattern:",n)})),r({status:"success"}),!0}default:return console.error("Unknown message:",e.message),r({status:"error",message:"Unknown message"}),!1;case"new_tab":{let t;chrome.tabs.create({url:e.url,pinned:!0,active:!1},(function(e){t=e.id})),setTimeout((()=>{chrome.tabs.remove(t)}),5e3);break}}}))})();